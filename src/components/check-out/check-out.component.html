<div class="checkout-container">
  <div class="row">
    <div class="col-md-4">
      <div class="selected-products">
        <h2>Shoppingbag</h2>
        <div class="col-12" *ngIf="cartItems.length <= 0">
          Your shoppingbag is empty.
        </div>
        <div *ngIf="cartItems.length > 0">
          <table mat-table [dataSource]="cartItems" class="mat-elevation-z8">

            <!-- Image Column -->
            <ng-container matColumnDef="product">
              <th mat-header-cell *matHeaderCellDef></th>
              <td mat-cell *matCellDef="let element">
                <img src="{{ element.product }}" alt="" height="60px">
              </td>
            </ng-container>

            <!-- Price Column -->
            <ng-container matColumnDef="price">
              <th mat-header-cell *matHeaderCellDef>Price</th>
              <td mat-cell *matCellDef="let element">{{element.price}}</td>
            </ng-container>

            <!-- Size Column -->
            <ng-container matColumnDef="size">
              <th mat-header-cell *matHeaderCellDef>Size</th>
              <td mat-cell *matCellDef="let element">{{element.size}}</td>
            </ng-container>

            <!-- Color Column -->
            <ng-container matColumnDef="color">
              <th mat-header-cell *matHeaderCellDef>Color</th>
              <td mat-cell *matCellDef="let element">{{element.color}}</td>
            </ng-container>

            <!-- Quantity Column -->
            <ng-container matColumnDef="quantity">
              <th mat-header-cell *matHeaderCellDef>Quantity</th>
              <td mat-cell *matCellDef="let element">
                <div class="col-6 d-flex align-items-center justify-content-between">
                  <div class="quantity-buttons">
                    <button (click)="decreaseQuantity(element)">-</button>
                    {{element.quantity}}
                    <button (click)="increaseQuantity(element)">+</button>
                  </div>
                </div>
              </td>
            </ng-container>

            <!-- Total Column -->
            <ng-container matColumnDef="total">
              <th mat-header-cell *matHeaderCellDef>Total</th>
              <td mat-cell *matCellDef="let element">{{getProductTotal(element)}}</td>
            </ng-container>

            <!-- Delete Column -->
            <ng-container matColumnDef="delete">
              <th mat-header-cell *matHeaderCellDef></th>
              <td mat-cell *matCellDef="let element">
                <span class="delete-btn">
                  <img src="../../../assets/Icon_Trash.svg" alt="trash-can" width="22px" (click)="deleteItem(element)">
                </span>
              </td>
            </ng-container>


            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

          </table>

          <strong>
            Totalt: {{ getTotal() }} SEK
          </strong>



          <form class="row g-3">
            <!-- <div class="col-md-8"> -->
            <div class="col-md-6">
              <label for="validationCustom01" class="form-label">First name</label>
              <input [(ngModel)]="customerFirstName" type="text" class="form-control" id="validationCustom01"
                value="Mark" required name="first">
              <div class="valid-feedback">
                Looks good!
              </div>

            </div>
            <div class="col-md-6">
              <label for="validationCustom02" class="form-label">Last name</label>
              <input [(ngModel)]="customerLastName" type="text" class="form-control" id="validationCustom02"
                value="Otto" required name="last">
              <div class="valid-feedback">
                Looks good!
              </div>
              <!-- <label for="inputPassword4" class="form-label">Password</label>
      <input type="password" class="form-control" id="inputPassword4"> -->
            </div>
            <div class="col-12">
              <label for="inputEmail4" class="form-label">Email</label>
              <input [(ngModel)]="customerEmail" type="email" class="form-control" id="inputEmail4" name="email"
                required>
            </div>
            <div class="col-12">
              <label for="inputAddress" class="form-label">Address</label>
              <input [(ngModel)]="customerAddress" type="text" class="form-control" id="inputAddress"
                placeholder="Apartment, studio, or floor" name="address" required>
            </div>
            <div class="col-md-6">
              <label for="inputZip" class="form-label">Postal code</label>
              <input [(ngModel)]="customerZip" type="text" class="form-control" id="inputZip" name="zip" required>
            </div>

            <div class="col-md-6">
              <label for="inputCity" class="form-label">City</label>
              <input [(ngModel)]="customerCity" type="text" class="form-control" id="inputCity" name="city" required>
            </div>
            <div class="col-12">
              <button (click)="checkout()" type="submit" class="btn" data-bs-toggle="modal"
                data-bs-target="#exampleModal">Confirm</button>
            </div>
            <!-- </div> -->
          </form>
        </div>
      </div>
    </div>
  </div>